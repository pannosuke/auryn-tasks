<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#7c3aed" />
  <meta name="description" content="Auryn-powered personal task manager" />
  <title>Auryn Tasks ðŸ¦‰</title>
  <link rel="manifest" href="/manifest.json" />
  <link rel="icon" href="/icon-192.png" />
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
<div id="app">
  <!-- Header -->
  <header>
    <div class="header-title">Auryn Tasks <span>ðŸ¦‰</span></div>
    <button class="btn btn-primary" id="addTaskBtn">+ Add Task</button>
  </header>

  <!-- Stats -->
  <div class="stats-bar" id="statsBar">
    <div class="stat"><div class="stat-num" id="statTotal">0</div><div class="stat-label">Total</div></div>
    <div class="stat"><div class="stat-num" id="statActive">0</div><div class="stat-label">Active</div></div>
    <div class="stat"><div class="stat-num" id="statOverdue">0</div><div class="stat-label">Overdue</div></div>
    <div class="stat"><div class="stat-num" id="statToday">0</div><div class="stat-label">Due Today</div></div>
    <div class="stat"><div class="stat-num" id="statDone">0</div><div class="stat-label">Done</div></div>
  </div>

  <!-- Due Alert Bar -->
  <div class="due-alert" id="dueAlert" style="display:none"></div>

  <!-- View Toggle -->
  <div class="view-toggle">
    <button class="pill view-pill active" id="viewTasks" data-view="tasks">ðŸ“‹ Tasks</button>
    <button class="pill view-pill" id="viewCalendar" data-view="calendar">ðŸ“… Calendar</button>
  </div>

  <!-- Task View -->
  <div id="taskView">
    <!-- Filter Bar -->
    <div class="filter-bar">
      <div class="filter-group" id="priorityFilters">
        <button class="pill active" data-priority="all">All</button>
        <button class="pill high" data-priority="high">ðŸ”´ High</button>
        <button class="pill medium" data-priority="medium">ðŸŸ¡ Medium</button>
        <button class="pill low" data-priority="low">ðŸŸ¢ Low</button>
      </div>
      <div class="filter-sep"></div>
      <div class="filter-group" id="statusFilters">
        <button class="pill active" data-status="active">Active</button>
        <button class="pill" data-status="completed">Completed</button>
        <button class="pill" data-status="all">All</button>
      </div>
    </div>

    <!-- Task List -->
    <div class="task-list" id="taskList"></div>
  </div>

  <!-- Calendar View -->
  <div id="calendarView" style="display:none">
    <div class="calendar-header">
      <button class="cal-nav-btn" id="calPrev">&#8249;</button>
      <div class="calendar-month-title" id="calTitle">Loadingâ€¦</div>
      <button class="cal-nav-btn" id="calNext">&#8250;</button>
    </div>
    <div class="calendar-grid" id="calGrid"></div>
  </div>
</div>

<!-- Calendar Popover -->
<div class="cal-popover" id="calPopover">
  <div class="cal-popover-date" id="calPopoverDate"></div>
  <div class="cal-popover-body" id="calPopoverBody"></div>
  <button class="cal-popover-close btn btn-sm btn-ghost" id="calPopoverClose">âœ• Close</button>
</div>

<!-- Add Task Modal -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <h2 id="modalTitle">Add Task</h2>
    <form id="taskForm">
      <div class="form-group">
        <label for="taskTitle">Title *</label>
        <input type="text" id="taskTitle" placeholder="What needs to be done?" required />
      </div>
      <div class="form-group">
        <label for="taskPriority">Priority</label>
        <select id="taskPriority">
          <option value="high">ðŸ”´ High</option>
          <option value="medium" selected>ðŸŸ¡ Medium</option>
          <option value="low">ðŸŸ¢ Low</option>
        </select>
      </div>
      <div class="form-group">
        <label for="taskCategory">Category</label>
        <select id="taskCategory">
          <option value="Client Work">Client Work</option>
          <option value="Admin" selected>Admin</option>
          <option value="Personal">Personal</option>
          <option value="Follow-up">Follow-up</option>
        </select>
      </div>
      <div class="form-group">
        <label for="taskDueDate">Due Date (optional)</label>
        <input type="date" id="taskDueDate" />
      </div>
      <div class="modal-actions">
        <button type="button" class="btn btn-ghost" id="cancelBtn">Cancel</button>
        <button type="submit" class="btn btn-primary" id="saveBtn">Save Task</button>
      </div>
    </form>
  </div>
</div>

<!-- Toast -->
<div id="toast"></div>

<script src="/app.js"></script>
</body>
</html>
